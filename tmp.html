<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>è«å…°è¿ªå¿ƒè‰²ï¼Œä½ å†…å¿ƒçš„é«˜çº§è‰²å½©</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap');
        
        :root {
            --red: #A53B30;
            --yellow: #FFC44F;
            --blue: #2B82E0;
            --white: #F3F7E8;
            --bg-gradient: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            --card-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
            --text-primary: #2d3748;
            --text-secondary: #4a5568;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Noto Sans SC', sans-serif;
        }
        
        body {
            background: var(--bg-gradient);
            color: var(--text-primary);
            line-height: 1.8;
            padding: 20px 15px;
            max-width: 900px;
            margin: 0 auto;
            min-height: 100vh;
            position: relative;
            font-family: 'Noto Sans SC', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            letter-spacing: 0.02em;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23000000' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            z-index: -1;
        }

        .endorsement {
            background: linear-gradient(135deg, rgba(255,255,255,0.85), rgba(255,255,255,0.7));
            border-radius: 24px;
            padding: 32px;
            margin: 24px 0;
            border: 1px solid rgba(255,255,255,0.6);
            backdrop-filter: blur(15px);
            box-shadow: 0 8px 32px rgba(0,0,0,0.08);
        }
        
        .endorsement-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 20px;
            text-align: center;
            font-family: 'Noto Sans SC', sans-serif;
            letter-spacing: 0.04em;
        }
        
        .endorsement-content {
            text-align: left;
            max-width: 80%;
            margin: 0 auto;
        }
        
        .endorsement-note {
            font-size: 0.9rem;
            color: var(--blue);
            font-style: italic;
            margin-top: 20px;
            text-align: center;
            padding: 16px;
            border-radius: 16px;
            background: rgba(43, 130, 224, 0.08);
            border: 1px solid rgba(43, 130, 224, 0.15);
            letter-spacing: 0.01em;
            line-height: 1.7;
        }

        .color-bar {
            display: flex;
            height: 56px;
            margin: 32px 0;
            border-radius: 28px;
            overflow: hidden;
            box-shadow: 0 6px 24px rgba(0,0,0,0.12);
            position: relative;
        }
        
        .color-bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(180deg, rgba(255,255,255,0.1) 0%, transparent 50%, rgba(0,0,0,0.05) 100%);
            border-radius: 28px;
            pointer-events: none;
        }
        
        .color-segment {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: 700;
            color: white;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.4);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            letter-spacing: 0.12em;
            position: relative;
            z-index: 1;
            text-align: center;
            line-height: 1;
        }
        
        .color-segment:hover {
            transform: scale(1.05);
            z-index: 10;
            filter: brightness(1.1);
        }
        
        .color-explanation {
            text-align: center;
            margin-top: 20px;
            padding: 20px 32px;
            background: rgba(255,255,255,0.3);
            backdrop-filter: blur(8px);
            border-radius: 20px;
            font-size: 1rem;
            color: var(--text-secondary);
            letter-spacing: 0.02em;
            line-height: 1.7;
            border: 1px solid rgba(255,255,255,0.5);
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .color-explanation strong {
            color: var(--text-primary);
            font-weight: 700;
            font-size: 1.1em;
            display: inline-block;
            margin-bottom: 4px;
        }
        
        .red { 
            background: linear-gradient(135deg, var(--red), #d44a3d);
            border-radius: 25px 0 0 25px;
        }
        .yellow { 
            background: linear-gradient(135deg, var(--yellow), #ffd166);
        }
        .blue { 
            background: linear-gradient(135deg, var(--blue), #4a94e8);
        }
        .white { 
            background: linear-gradient(135deg, var(--white), #f5f8ed);
            color: var(--text-primary);
            border-radius: 0 25px 25px 0;
        }

        .usage-tip {
            font-size: 0.95rem;
            color: var(--text-secondary);
            margin-top: 16px;
            font-style: italic;
            opacity: 0.85;
            letter-spacing: 0.01em;
            padding: 12px 20px;
            border-radius: 16px;
            background: rgba(255,255,255,0.3);
            backdrop-filter: blur(8px);
            text-align: center;
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 30px;
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(15px);
            border-radius: 30px;
            box-shadow: var(--card-shadow);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        h1 {
            color: var(--text-primary);
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            font-family: 'Noto Sans SC', sans-serif;
            letter-spacing: 0.05em;
            line-height: 1.3;
            background: linear-gradient(135deg, var(--red) 0%, var(--yellow) 33%, var(--blue) 66%, var(--white) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        header p {
            color: var(--text-secondary);
            font-size: 1.2rem;
            margin-bottom: 30px;
            font-weight: 400;
            letter-spacing: 0.03em;
            line-height: 1.6;
        }
        
        .tab-container {
            display: flex;
            gap: 18px;
            margin-bottom: 36px;
            justify-content: center;
        }
        
        .tab {
            padding: 16px 36px;
            cursor: pointer;
            background: rgba(255, 255, 255, 0.55);
            backdrop-filter: blur(12px);
            border-radius: 24px;
            font-weight: 600;
            color: var(--text-primary);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid transparent;
            letter-spacing: 0.02em;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }
        
        .tab.active {
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 6px 20px rgba(0,0,0,0.12);
            transform: translateY(-2px);
        }
        
        .question-container {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(15px);
            padding: 35px;
            border-radius: 25px;
            box-shadow: var(--card-shadow);
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.5);
        }
        
        .question {
            margin-bottom: 28px;
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--text-primary);
            line-height: 1.6;
            letter-spacing: 0.02em;
        }
        
        .options {
            display: grid;
            gap: 15px;
        }
        
        .option {
            padding: 24px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            background: rgba(255, 255, 255, 0.65);
            backdrop-filter: blur(12px);
            font-size: 1.05rem;
            color: var(--text-secondary);
            position: relative;
            letter-spacing: 0.01em;
            line-height: 1.6;
            font-weight: 400;
        }
        
        .option:hover {
            background: rgba(255, 255, 255, 0.8);
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        
        .option.selected {
            background: var(--blue);
            color: white;
            font-weight: 500;
            transform: scale(1.03);
            box-shadow: 0 8px 25px rgba(43, 130, 224, 0.3);
        }
        
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            gap: 20px;
        }
        
        button {
            padding: 16px 36px;
            background: linear-gradient(135deg, var(--blue), #4a94e8);
            color: white;
            border: none;
            border-radius: 28px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 600;
            font-size: 1.05rem;
            box-shadow: 0 6px 20px rgba(43, 130, 224, 0.35);
            letter-spacing: 0.02em;
            font-family: 'Noto Sans SC', sans-serif;
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(43, 130, 224, 0.4);
        }
        
        button:disabled {
            background: linear-gradient(135deg, #cbd5e0, #a0aec0);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .progress-bar {
            height: 12px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 6px;
            margin: 30px 0;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--red), var(--yellow), var(--blue), var(--white));
            width: 0%;
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 6px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }
        
        .result-container {
            text-align: center;
            padding: 40px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(15px);
            border-radius: 30px;
            box-shadow: var(--card-shadow);
            display: none;
            border: 1px solid rgba(255, 255, 255, 0.5);
            animation: slideInUp 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .result-header {
            margin-bottom: 40px;
        }

        .result-header h2 {
            color: var(--text-primary);
            font-size: 2.4rem;
            font-weight: 700;
            margin-bottom: 16px;
            background: linear-gradient(135deg, var(--red), var(--yellow), var(--blue), var(--white));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradient-shift 3s ease-in-out infinite;
            font-family: 'Noto Sans SC', sans-serif;
            letter-spacing: 0.04em;
            line-height: 1.2;
        }

        @keyframes gradient-shift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .result-subtitle {
            color: var(--text-secondary);
            font-size: 1.2rem;
            font-weight: 400;
            margin-bottom: 0;
            letter-spacing: 0.02em;
            line-height: 1.6;
        }

        .result-sections {
            display: flex;
            flex-direction: column;
            gap: 40px;
            margin-bottom: 40px;
        }

        .color-showcase {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 30px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(10px);
            border-radius: 25px;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .color-result-large {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            box-shadow: 0 8px 30px rgba(0,0,0,0.15);
            flex-shrink: 0;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .color-info-large {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .color-name-luxury {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 10px;
            letter-spacing: 2px;
        }

        .color-code-large {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-secondary);
            background: rgba(255,255,255,0.8);
            padding: 8px 16px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .color-composition {
            text-align: left;
        }

        .result-description {
            text-align: left;
        }
        
        .radar-section {
            text-align: center;
        }
        
        .radar-chart-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 30px 0;
            background: rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.5);
        }
        
        .chart-legend {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 25px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(8px);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.4);
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 12px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 10px;
            font-size: 0.9rem;
            color: var(--text-primary);
            letter-spacing: 0.01em;
            transition: transform 0.3s ease;
        }
        
        .legend-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            flex-shrink: 0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        #radarChart {
            display: block;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
        }
        
        .red-legend .legend-dot {
            background: var(--red);
        }
        
        .yellow-legend .legend-dot {
            background: var(--yellow);
        }
        
        .blue-legend .legend-dot {
            background: var(--blue);
        }
        
        .white-legend .legend-dot {
            background: var(--white);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .personality-section {
            text-align: left;
        }

        .section-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 24px;
            padding-bottom: 12px;
            border-bottom: 2px solid var(--blue);
            font-family: 'Noto Sans SC', sans-serif;
            letter-spacing: 0.03em;
            position: relative;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 60px;
            height: 2px;
            background: var(--blue);
            box-shadow: 0 0 8px rgba(43, 130, 224, 0.3);
        }

        .color-breakdown {
            margin-bottom: 25px;
        }

        .color-item {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }

        .color-item:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .color-sample {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            margin-right: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            flex-shrink: 0;
        }

        .color-info {
            flex: 1;
        }

        .color-name {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 3px;
        }

        .color-percent {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .personality-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        }

        .tag {
            padding: 10px 20px;
            background: linear-gradient(135deg, rgba(255,255,255,0.65), rgba(255,255,255,0.45));
            border-radius: 24px;
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--text-primary);
            border: 1px solid rgba(255,255,255,0.6);
            backdrop-filter: blur(8px);
            transition: all 0.4s ease;
            letter-spacing: 0.01em;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .tag:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .result-text {
            font-size: 1.05rem;
            line-height: 1.8;
            text-align: left;
            color: var(--text-primary);
            letter-spacing: 0.01em;
        }

        .color-analysis-detailed {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }
        
        .color-analysis-item {
            background: rgba(255, 255, 255, 0.3);
            padding: 20px;
            border-radius: 15px;
            border-left: 4px solid var(--blue);
            margin-bottom: 15px;
        }
        
        .color-analysis-item h4 {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 15px;
        }
        
        .color-analysis-item p {
            color: var(--text-secondary);
            line-height: 1.7;
            font-size: 0.95rem;
        }
        
        .color-summary {
            background: linear-gradient(135deg, rgba(43, 130, 224, 0.15), rgba(43, 130, 224, 0.05));
            padding: 25px;
            border-radius: 15px;
            border-left: 4px solid var(--blue);
            border: 1px solid rgba(43, 130, 224, 0.2);
        }
        
        .color-summary h4 {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--blue);
            margin-bottom: 15px;
        }
        
        .color-summary p {
            color: var(--text-primary);
            font-weight: 500;
            line-height: 1.7;
        }

        .action-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 30px;
        }

        .share-btn, .restart-btn {
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .share-btn {
            background: linear-gradient(135deg, var(--yellow), #ffd166);
            color: var(--text-primary);
            box-shadow: 0 4px 15px rgba(255, 196, 79, 0.3);
        }

        .share-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255, 196, 79, 0.4);
        }

        .restart-btn {
            background: linear-gradient(135deg, var(--blue), #4a94e8);
            color: white;
            box-shadow: 0 4px 15px rgba(43, 130, 224, 0.3);
        }

        .restart-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(43, 130, 224, 0.4);
        }

        /* æ‰‹æœºç«¯ä¼˜åŒ– */
        @media (max-width: 768px) {
            body {
                padding: 15px 10px;
            }
            
            h1 {
                font-size: 2rem;
                letter-spacing: 0.03em;
            }
            
            header {
                padding: 30px 20px;
                margin-bottom: 30px;
            }
            
            header p {
                font-size: 1rem;
                margin-bottom: 20px;
            }
            
            .endorsement {
                padding: 15px;
                margin: 15px 0;
            }
            
            .endorsement-title {
                font-size: 1.1rem;
                margin-bottom: 12px;
            }
            
            .endorsement-list li {
                font-size: 0.85rem;
                padding: 6px 0;
                line-height: 1.3;
            }
            
            .endorsement-note {
                font-size: 0.8rem;
                margin-top: 10px;
            }
            
            .color-bar {
                height: 40px;
                margin: 20px 0;
            }
            
            .color-segment {
                font-size: 14px;
                font-weight: 600;
                letter-spacing: 0.1em;
            }
            
            .color-explanation {
                padding: 14px 20px;
                font-size: 0.9rem;
                margin-top: 16px;
                max-width: 90%;
            }
            
            .tab-container {
                gap: 10px;
                margin-bottom: 20px;
            }
            
            .tab {
                padding: 12px 20px;
                font-size: 0.9rem;
            }
            
            .question-container {
                padding: 25px 20px;
                margin-bottom: 20px;
            }
            
            .question {
                font-size: 1.1rem;
                margin-bottom: 20px;
            }
            
            .option {
                padding: 15px 18px;
                font-size: 0.95rem;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 15px;
                margin-top: 20px;
            }
            
            button {
                width: 100%;
                padding: 15px 20px;
                font-size: 1rem;
            }
            
            .result-container {
                padding: 30px 20px;
            }
            
            .color-showcase {
                flex-direction: column;
                gap: 20px;
                padding: 25px 20px;
            }
            
            .color-result-large {
                width: 100px;
                height: 100px;
            }
            
            .color-name-luxury {
                font-size: 1.6rem;
            }
            
            .color-code-large {
                font-size: 1.3rem;
            }
            
            .section-title {
                font-size: 1.1rem;
            }
            
            .radar-chart-container {
                padding: 20px;
                margin: 20px 0;
            }
            
            .chart-legend {
                grid-template-columns: 1fr;
                gap: 10px;
                padding: 15px;
            }
            
            .legend-item {
                font-size: 0.85rem;
                padding: 6px 10px;
            }
            
            .color-analysis-item {
                padding: 15px;
                margin-bottom: 12px;
            }
            
            .color-analysis-item h4 {
                font-size: 1.1rem;
                margin-bottom: 12px;
            }
            
            .color-analysis-item p {
                font-size: 0.9rem;
                line-height: 1.6;
            }
            
            .color-summary {
                padding: 18px;
            }
            
            .color-summary h4 {
                font-size: 1.2rem;
                margin-bottom: 12px;
            }
            
            .color-summary p {
                font-size: 0.9rem;
                line-height: 1.6;
            }
            
            .action-buttons {
                flex-direction: column;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 10px 8px;
            }
            
            h1 {
                font-size: 1.8rem;
                letter-spacing: 0.02em;
            }
            
            header {
                padding: 25px 15px;
            }
            
            .endorsement {
                padding: 12px;
                margin: 12px 0;
            }
            
            .endorsement-title {
                font-size: 0.95rem;
            }
            
            .endorsement-list li {
                font-size: 0.8rem;
                padding: 5px 0;
            }
            
            .endorsement-note {
                font-size: 0.75rem;
            }
            
            .color-bar {
                height: 35px;
            }
            
            .color-segment {
                font-size: 13px;
                font-weight: 600;
                letter-spacing: 0.08em;
            }
            
            .color-explanation {
                padding: 12px 16px;
                font-size: 0.85rem;
                margin-top: 12px;
                max-width: 95%;
            }
            
            .tab {
                padding: 10px 15px;
                font-size: 0.85rem;
            }
            
            .question-container {
                padding: 20px 15px;
            }
            
            .question {
                font-size: 1rem;
            }
            
            .option {
                padding: 12px 15px;
                font-size: 0.9rem;
            }
            
            .result-header h2 {
                font-size: 1.8rem;
            }
            
            .result-subtitle {
                font-size: 0.95rem;
            }
            
            .analysis-title {
                font-size: 1rem;
            }
            
            .color-item {
                padding: 10px;
            }
            
            .color-sample {
                width: 20px;
                height: 20px;
                margin-right: 12px;
            }
            
            .tag {
                padding: 6px 12px;
                font-size: 0.8rem;
            }
            
            .radar-chart-container {
                padding: 15px;
                margin: 15px 0;
            }
            
            #radarChart {
                width: 300px !important;
                height: 300px !important;
                max-width: 100%;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>è«å…°è¿ªå¿ƒè‰²</h1>
        <p>ä½ å†…å¿ƒçš„é«˜çº§è‰²å½©</p>
        
        <div class="endorsement">
            <p class="endorsement-title">ğŸ¨ è«å…°è¿ªå¿ƒè‰²çµæ„Ÿ</p>
            <div class="endorsement-content">
                <p>åŸºäºFaber Birrençš„è‰²å½©ä¸å¿ƒæƒ…è¿æ¥ã€Daniel Golemançš„æƒ…ç»ªæ„ŸçŸ¥è¡¨è¾¾ã€Tom Maddronçš„ä¸ªæ€§è‰²å½©è§£è¯»ï¼Œä»¥åŠMartin Seligmançš„å†…å¿ƒå…‰èŠ’å‘ç°ï¼Œæ¯ä¸€ç§å¿ƒè‰²éƒ½æ˜¯ä½ å†…å¿ƒæ·±å¤„æœ€çœŸå®çš„å†™ç…§ã€‚</p>
                <p class="endorsement-note">ğŸŒ¸ åœ¨è«å…°è¿ªçš„æŸ”å’Œå¿ƒè‰²é‡Œï¼Œå‘ç°ä½ çš„é«˜çº§è‰²å½©</p>
            </div>
        </div>
        
        <p class="usage-tip">
            ğŸ’« é™å¿ƒæ„Ÿå—ï¼Œå‘ç°ä½ çš„é«˜çº§è‰²å½©
        </p>
        <div class="color-bar">
            <div class="color-segment red">å†²åŠ¨</div>
            <div class="color-segment yellow">æ´»è·ƒ</div>
            <div class="color-segment blue">å†·é™</div>
            <div class="color-segment white">è‡ªå¦‚</div>
        </div>
        <div class="color-explanation">
            <p>ğŸ¨ <strong>JIYOEIå“ç‰Œå››åŸè‰²</strong> â€”â€” å†²åŠ¨Â·æ´»è·ƒÂ·å†·é™Â·è‡ªå¦‚ï¼Œå››ç§åŸå§‹è‰²å½©äº¤ç»‡èåˆï¼Œç”Ÿæˆä¸“å±äºä½ çš„è«å…°è¿ªå¿ƒè‰²</p>
        </div>
    </header>
    
    <div class="tab-container">
        <div class="tab active" data-tab="basic">åŸºç¡€ç‰ˆ (15é¢˜)</div>
        <div class="tab" data-tab="advanced">è¿›é˜¶ç‰ˆ (5é¢˜)</div>
    </div>
    
    <div class="progress-bar">
        <div class="progress" id="progress"></div>
    </div>
    
    <div class="question-container" id="question-container">
        <!-- é¢˜ç›®å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
    </div>
    
    <div class="nav-buttons">
        <button id="prev-btn" disabled>ä¸Šä¸€é¢˜</button>
        <button id="next-btn">ä¸‹ä¸€é¢˜</button>
        <button id="submit-btn" style="display: none;">æŸ¥çœ‹ç»“æœ</button>
    </div>
    
    <div class="result-container" id="result-container">
        <div class="result-header">
            <h2>ğŸ’« ä½ çš„è«å…°è¿ªå¿ƒè‰²å·²æ˜¾ç°</h2>
            <p class="result-subtitle">é‚£ä»½ä¸“å±äºä½ çš„é«˜çº§è‰²å½©</p>
        </div>
        
        <div class="result-sections">
            <!-- é¢œè‰²å±•ç¤ºåŒºåŸŸ -->
            <div class="color-showcase">
                <div class="color-result-large" id="result-color"></div>
                <div class="color-info-large">
                    <div class="color-name-luxury" id="color-name-luxury"></div>
                    <div class="color-code-large" id="color-code"></div>
                </div>
            </div>
            
            <!-- ç‰¹è´¨æ„æˆç™¾åˆ†æ¯” -->
            <div class="color-composition">
                <h3 class="section-title">æ ¸å¿ƒç‰¹è´¨æ„æˆ</h3>
                <div class="color-breakdown" id="color-breakdown">
                    <!-- åŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
            
            <!-- å››ç»´å›¾è¡¨ -->
            <div class="radar-section">
                <h3 class="section-title">è‰²å½©å¿ƒè¯­å››ç»´å›¾</h3>
                <div class="radar-chart-container">
                    <canvas id="radarChart" width="400" height="400"></canvas>
                </div>
            </div>
            
            <!-- ç»“æœæè¿° -->
            <div class="result-description">
                <h3 class="section-title">è‰²å½©å¿ƒè¯­è§£è¯»</h3>
                <div class="result-text" id="result-text"></div>
            </div>
            
            <!-- ç¬¦åˆçš„æ ‡ç­¾ -->
            <div class="personality-section">
                <h3 class="section-title">ç¾å¥½ç‰¹è´¨</h3>
                <div class="personality-tags" id="personality-tags">
                    <!-- åŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
        </div>
        

    </div>

    <script>
        // é¢œè‰²å®šä¹‰
        const colors = {
            red: { hex: '#A53B30', rgb: { r: 165, g: 59, b: 48 }, emotion: 'å†²åŠ¨' },
            yellow: { hex: '#FFC44F', rgb: { r: 255, g: 196, b: 79 }, emotion: 'æ´»è·ƒ' },
            blue: { hex: '#2B82E0', rgb: { r: 43, g: 130, b: 224 }, emotion: 'å†·é™' },
            white: { hex: '#F3F7E8', rgb: { r: 243, g: 247, b: 232 }, emotion: 'è‡ªå¦‚' }
        };

        // æµ‹è¯•é¢˜ç›®åº“ (ç»å…¸ç‰ˆæœ¬)
        const questions = {
            basic: [
                {
                    text: "å½“ä½ é¢å¯¹ä¸€ä¸ªå…¨æ–°çš„æŒ‘æˆ˜æ—¶ï¼Œä½ ä¼šï¼Ÿ",
                    options: [
                        { text: "ç«‹å³æŠ•å…¥è¡ŒåŠ¨ï¼Œè¾¹åšè¾¹å­¦", color: "red", points: 1 },
                        { text: "å…´å¥‹åœ°æ¢ç´¢å„ç§å¯èƒ½æ€§", color: "yellow", points: 1 },
                        { text: "å…ˆè¯¦ç»†è§„åˆ’å’Œåˆ†æ", color: "blue", points: 1 },
                        { text: "é¡ºå…¶è‡ªç„¶ï¼Œçœ‹æƒ…å†µå‘å±•", color: "white", points: 1 }
                    ]
                },
                {
                    text: "åœ¨å›¢é˜Ÿé¡¹ç›®ä¸­ï¼Œä½ é€šå¸¸æ‰®æ¼”ä»€ä¹ˆè§’è‰²ï¼Ÿ",
                    options: [
                        { text: "é¢†å¯¼è€…ï¼Œæ¨åŠ¨å‰è¿›", color: "red", points: 1 },
                        { text: "åˆ›æ„è€…ï¼Œå¸¦æ¥æ–°æƒ³æ³•", color: "yellow", points: 1 },
                        { text: "åˆ†æè€…ï¼Œç¡®ä¿å¯è¡Œæ€§", color: "blue", points: 1 },
                        { text: "åè°ƒè€…ï¼Œç»´æŠ¤å’Œè°", color: "white", points: 1 }
                    ]
                },
                {
                    text: "å½“ä½ æ„Ÿåˆ°å‹åŠ›å¾ˆå¤§æ—¶ï¼Œä½ ä¼šå¦‚ä½•è°ƒèŠ‚ï¼Ÿ",
                    options: [
                        { text: "é€šè¿‡è¿åŠ¨æˆ–è¡ŒåŠ¨æ¥é‡Šæ”¾", color: "red", points: 1 },
                        { text: "å¯»æ‰¾æœ‰è¶£çš„å¨±ä¹æ–¹å¼", color: "yellow", points: 1 },
                        { text: "ç†æ€§åˆ†æå‹åŠ›æºå¹¶è§£å†³", color: "blue", points: 1 },
                        { text: "é™å¿ƒå†¥æƒ³ï¼Œé¡ºå…¶è‡ªç„¶", color: "white", points: 1 }
                    ]
                },
                {
                    text: "åœ¨åšé‡è¦å†³å®šæ—¶ï¼Œä½ æ›´ä¾èµ–ï¼Ÿ",
                    options: [
                        { text: "ç›´è§‰å’Œç¬¬ä¸€æ„Ÿè§‰", color: "red", points: 1 },
                        { text: "åˆ›æ„æ€ç»´å’Œçµæ„Ÿ", color: "yellow", points: 1 },
                        { text: "é€»è¾‘åˆ†æå’Œæ•°æ®", color: "blue", points: 1 },
                        { text: "å†…å¿ƒå¹³é™æ—¶çš„æ´å¯Ÿ", color: "white", points: 1 }
                    ]
                },
                {
                    text: "ä½ ç†æƒ³ä¸­çš„å‘¨æœ«æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ",
                    options: [
                        { text: "å……æ»¡åˆºæ¿€å’Œæ–°é²œä½“éªŒ", color: "red", points: 1 },
                        { text: "ä¸°å¯Œå¤šå½©çš„ç¤¾äº¤æ´»åŠ¨", color: "yellow", points: 1 },
                        { text: "ä¸“æ³¨å­¦ä¹ æˆ–æ·±åº¦å·¥ä½œ", color: "blue", points: 1 },
                        { text: "æ‚ é—²è‡ªåœ¨ï¼Œéšå¿ƒè€ŒåŠ¨", color: "white", points: 1 }
                    ]
                },
                {
                    text: "å½“æœ‹å‹å‘ä½ å€¾è¯‰çƒ¦æ¼æ—¶ï¼Œä½ ä¼šï¼Ÿ",
                    options: [
                        { text: "ç«‹å³ç»™å‡ºè§£å†³æ–¹æ¡ˆ", color: "red", points: 1 },
                        { text: "ç”¨å¹½é»˜æ„Ÿå¸®åŠ©å¯¹æ–¹æ”¾æ¾", color: "yellow", points: 1 },
                        { text: "ä»”ç»†åˆ†æé—®é¢˜æœ¬è´¨", color: "blue", points: 1 },
                        { text: "é™é™é™ªä¼´ï¼Œå€¾å¬ç†è§£", color: "white", points: 1 }
                    ]
                },
                {
                    text: "ä½ æ›´å–œæ¬¢ä»€ä¹ˆæ ·çš„å·¥ä½œç¯å¢ƒï¼Ÿ",
                    options: [
                        { text: "å¿«èŠ‚å¥ï¼Œå……æ»¡æŒ‘æˆ˜", color: "red", points: 1 },
                        { text: "å¤šå˜æœ‰è¶£ï¼Œåˆ›æ„æ— é™", color: "yellow", points: 1 },
                        { text: "å®‰é™æœ‰åºï¼Œä¸“æ³¨é«˜æ•ˆ", color: "blue", points: 1 },
                        { text: "å’Œè°å¹³è¡¡ï¼Œçµæ´»è‡ªç”±", color: "white", points: 1 }
                    ]
                },
                {
                    text: "é¢å¯¹å¤±è´¥æ—¶ï¼Œä½ çš„ç¬¬ä¸€ååº”æ˜¯ï¼Ÿ",
                    options: [
                        { text: "ç«‹å³å¯»æ‰¾æ”¹è¿›æ–¹æ³•", color: "red", points: 1 },
                        { text: "ä»ä¸­å‘ç°æ–°çš„æœºä¼š", color: "yellow", points: 1 },
                        { text: "å®¢è§‚åˆ†æå¤±è´¥åŸå› ", color: "blue", points: 1 },
                        { text: "æ¥å—å¹¶ç»§ç»­å‰è¡Œ", color: "white", points: 1 }
                    ]
                },
                {
                    text: "ä½ åœ¨å­¦ä¹ æ–°æŠ€èƒ½æ—¶æ›´å€¾å‘äºï¼Ÿ",
                    options: [
                        { text: "å®è·µä¸­è¾¹åšè¾¹å­¦", color: "red", points: 1 },
                        { text: "å°è¯•å¤šç§å­¦ä¹ æ–¹æ³•", color: "yellow", points: 1 },
                        { text: "ç³»ç»ŸåŒ–ç†è®ºç»“åˆå®è·µ", color: "blue", points: 1 },
                        { text: "æŒ‰ç…§è‡ªå·±èŠ‚å¥æ…¢æ…¢æ¥", color: "white", points: 1 }
                    ]
                },
                {
                    text: "åœ¨ç¤¾äº¤èšä¼šä¸­ï¼Œä½ é€šå¸¸æ˜¯ï¼Ÿ",
                    options: [
                        { text: "æ´»è·ƒæ°”æ°›çš„ä¸­å¿ƒäººç‰©", color: "red", points: 1 },
                        { text: "å¸¦æ¥æ¬¢ç¬‘çš„å¼€å¿ƒæœ", color: "yellow", points: 1 },
                        { text: "æ·±åº¦å¯¹è¯çš„å‚ä¸è€…", color: "blue", points: 1 },
                        { text: "è½»æ¾è‡ªåœ¨çš„è§‚å¯Ÿè€…", color: "white", points: 1 }
                    ]
                },
                {
                    text: "ä½ å¦‚ä½•çœ‹å¾…æ—¶é—´ç®¡ç†ï¼Ÿ",
                    options: [
                        { text: "é«˜æ•ˆåˆ©ç”¨æ¯ä¸€åˆ†é’Ÿ", color: "red", points: 1 },
                        { text: "çµæ´»è°ƒæ•´ï¼Œäº«å—è¿‡ç¨‹", color: "yellow", points: 1 },
                        { text: "ä¸¥æ ¼æŒ‰è®¡åˆ’æ‰§è¡Œ", color: "blue", points: 1 },
                        { text: "é¡ºå…¶è‡ªç„¶ï¼Œä¸å¼ºæ±‚", color: "white", points: 1 }
                    ]
                },
                {
                    text: "å½“é‡åˆ°æ„è§ä¸åˆæ—¶ï¼Œä½ ä¼šï¼Ÿ",
                    options: [
                        { text: "åšæŒè‡ªå·±çš„è§‚ç‚¹", color: "red", points: 1 },
                        { text: "å¯»æ‰¾åˆ›æ„çš„æŠ˜ä¸­æ–¹æ¡ˆ", color: "yellow", points: 1 },
                        { text: "ç†æ€§è®¨è®ºï¼Œå¯»æ±‚å…±è¯†", color: "blue", points: 1 },
                        { text: "ç†è§£å·®å¼‚ï¼Œä¿æŒå’Œè°", color: "white", points: 1 }
                    ]
                },
                {
                    text: "ä½ æœ€æ¬£èµä»€ä¹ˆæ ·çš„äººï¼Ÿ",
                    options: [
                        { text: "æœæ–­è¡ŒåŠ¨çš„é¢†å¯¼è€…", color: "red", points: 1 },
                        { text: "å¯Œæœ‰åˆ›æ„çš„æ¢¦æƒ³å®¶", color: "yellow", points: 1 },
                        { text: "ç†æ€§æ·±åˆ»çš„æ€è€ƒè€…", color: "blue", points: 1 },
                        { text: "å¹³å’Œæ™ºæ…§çš„ç¦…å¸ˆ", color: "white", points: 1 }
                    ]
                },
                {
                    text: "åœ¨æ—…è¡Œæ—¶ï¼Œä½ æ›´å–œæ¬¢ï¼Ÿ",
                    options: [
                        { text: "å†’é™©åˆºæ¿€çš„ä½“éªŒ", color: "red", points: 1 },
                        { text: "ä¸°å¯Œå¤šå½©çš„æ–‡åŒ–æ´»åŠ¨", color: "yellow", points: 1 },
                        { text: "æ·±åº¦äº†è§£å½“åœ°å†å²", color: "blue", points: 1 },
                        { text: "æ‚ é—²åœ°äº«å—æ…¢ç”Ÿæ´»", color: "white", points: 1 }
                    ]
                },
                {
                    text: "ä½ å¯¹æœªæ¥çš„æ€åº¦æ˜¯ï¼Ÿ",
                    options: [
                        { text: "ç§¯æåˆ›é€ è‡ªå·±æƒ³è¦çš„ä¸€åˆ‡", color: "red", points: 1 },
                        { text: "æœŸå¾…æ— é™çš„å¯èƒ½æ€§", color: "yellow", points: 1 },
                        { text: "é€šè¿‡è§„åˆ’ç¡®ä¿æˆåŠŸ", color: "blue", points: 1 },
                        { text: "é¡ºå…¶è‡ªç„¶åœ°è¿æ¥å˜åŒ–", color: "white", points: 1 }
                    ]
                }
            ],
            advanced: [
                {
                    text: "å¦‚æœç”Ÿå‘½æ˜¯ä¸€æœ¬ä¹¦ï¼Œä½ å¸Œæœ›å®ƒæ˜¯ä¸€æœ¬ï¼Ÿ",
                    options: [
                        { text: "å……æ»¡å†’é™©å’Œä¼ å¥‡çš„å°è¯´", color: "red", points: 1 },
                        { text: "ä¸°å¯Œå¤šå½©çš„è¯—é›†", color: "yellow", points: 1 },
                        { text: "æ·±åˆ»æ™ºæ…§çš„å“²å­¦è‘—ä½œ", color: "blue", points: 1 },
                        { text: "å¹³å’Œå®é™çš„æ•£æ–‡", color: "white", points: 1 }
                    ]
                },
                {
                    text: "åœ¨äººç”Ÿçš„åå­—è·¯å£ï¼Œä½ æœ€ç›¸ä¿¡ï¼Ÿ",
                    options: [
                        { text: "å†…å¿ƒçš„ç›´è§‰å’Œå†²åŠ¨", color: "red", points: 1 },
                        { text: "æœªçŸ¥çš„ç¾å¥½å¯èƒ½", color: "yellow", points: 1 },
                        { text: "ç†æ€§å’Œé€»è¾‘çš„æŒ‡å¼•", color: "blue", points: 1 },
                        { text: "ç”Ÿå‘½çš„è‡ªç„¶æµåŠ¨", color: "white", points: 1 }
                    ]
                },
                {
                    text: "ä½ è®¤ä¸ºæœ€çè´µçš„äººç”Ÿä½“éªŒæ˜¯ï¼Ÿ",
                    options: [
                        { text: "å…‹æœå›°éš¾åçš„æˆå°±æ„Ÿ", color: "red", points: 1 },
                        { text: "åˆ›é€ ç¾å¥½äº‹ç‰©çš„å–œæ‚¦", color: "yellow", points: 1 },
                        { text: "æ·±åº¦ç†è§£ä¸–ç•Œçš„æ™ºæ…§", color: "blue", points: 1 },
                        { text: "å†…å¿ƒå¹³é™ä¸å¤©äººåˆä¸€", color: "white", points: 1 }
                    ]
                },
                {
                    text: "é¢å¯¹äººç”Ÿçš„é‡å¤§é—®é¢˜ï¼Œä½ æ›´ä¾èµ–ï¼Ÿ",
                    options: [
                        { text: "è¡ŒåŠ¨ä¸­çš„é¡¿æ‚Ÿ", color: "red", points: 1 },
                        { text: "å¤šå…ƒçš„åˆ›æ„æ€ç»´", color: "yellow", points: 1 },
                        { text: "ç³»ç»Ÿçš„å“²å­¦æ€è€ƒ", color: "blue", points: 1 },
                        { text: "ç›´è§‰ä¸ç†æ€§çš„ç»“åˆ", color: "white", points: 1 }
                    ]
                },
                {
                    text: "ä½ å¸Œæœ›ç»™è¿™ä¸ªä¸–ç•Œç•™ä¸‹ä»€ä¹ˆï¼Ÿ",
                    options: [
                        { text: "æ”¹å˜ä¸–ç•Œçš„è¡ŒåŠ¨åŠ›é‡", color: "red", points: 1 },
                        { text: "ç¾å¥½å’Œåˆ›æ„çš„çµæ„Ÿ", color: "yellow", points: 1 },
                        { text: "æ·±åˆ»çš„æ™ºæ…§å’ŒçŸ¥è¯†", color: "blue", points: 1 },
                        { text: "å¹³å’Œä¸åŒ…å®¹çš„å½±å“", color: "white", points: 1 }
                    ]
                }
            ]
        };

        // å…¨å±€çŠ¶æ€
        let currentTab = 'basic';
        let currentQuestionIndex = 0;
        let userAnswers = { basic: [], advanced: [] };
        let colorPoints = { red: 0, yellow: 0, blue: 0, white: 0 };

        // DOM å…ƒç´ 
        const questionContainer = document.getElementById('question-container');
        const progressBar = document.getElementById('progress');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const submitBtn = document.getElementById('submit-btn');
        const resultContainer = document.getElementById('result-container');
        const resultColor = document.getElementById('result-color');
        const colorCode = document.getElementById('color-code');
        const colorNameLuxury = document.getElementById('color-name-luxury');
        const resultText = document.getElementById('result-text');
        const colorBreakdown = document.getElementById('color-breakdown');
        const personalityTags = document.getElementById('personality-tags');

        // åˆå§‹åŒ–æµ‹è¯•
        function initTest() {
            console.log('åˆå§‹åŒ–æµ‹è¯•...');
            loadQuestion();
            updateProgressBar();
            setupEventListeners();
        }

        // è®¾ç½®äº‹ä»¶ç›‘å¬
        function setupEventListeners() {
            // é€‰é¡¹å¡åˆ‡æ¢
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    currentTab = this.getAttribute('data-tab');
                    currentQuestionIndex = 0;
                    loadQuestion();
                    updateProgressBar();
                    updateNavButtons();
                });
            });

            // å¯¼èˆªæŒ‰é’®
            prevBtn.addEventListener('click', goToPreviousQuestion);
            nextBtn.addEventListener('click', goToNextQuestion);
            submitBtn.addEventListener('click', showResults);
        }

        // åŠ è½½å½“å‰é¢˜ç›®
        function loadQuestion() {
            console.log('åŠ è½½é¢˜ç›®...', currentTab, currentQuestionIndex);
            const currentQuestions = questions[currentTab];
            
            if (currentQuestionIndex >= currentQuestions.length) {
                if (currentTab === 'basic') {
                    // åˆ‡æ¢åˆ°è¿›é˜¶ç‰ˆ
                    document.querySelector('.tab[data-tab="advanced"]').click();
                    return;
                } else {
                    // æ‰€æœ‰é¢˜ç›®å®Œæˆï¼Œæ˜¾ç¤ºç»“æœ
                    showResults();
                    return;
                }
            }

            const question = currentQuestions[currentQuestionIndex];
            let questionHTML = `<div class="question">${currentQuestionIndex + 1}. ${question.text}</div>`;
            questionHTML += '<div class="options">';

            question.options.forEach((option, index) => {
                const isSelected = userAnswers[currentTab][currentQuestionIndex] === index;
                questionHTML += `
                    <div class="option ${isSelected ? 'selected' : ''}" data-index="${index}">
                        ${option.text}
                    </div>
                `;
            });

            questionHTML += '</div>';
            questionContainer.innerHTML = questionHTML;

            // æ·»åŠ é€‰é¡¹é€‰æ‹©äº‹ä»¶
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const selectedIndex = parseInt(this.getAttribute('data-index'));
                    selectOption(selectedIndex);
                });
            });

            updateNavButtons();
        }

        // é€‰æ‹©é€‰é¡¹
        function selectOption(optionIndex) {
            console.log('é€‰æ‹©é€‰é¡¹:', optionIndex);
            // æ›´æ–°UI
            document.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected');
            });
            document.querySelector(`.option[data-index="${optionIndex}"]`).classList.add('selected');

            // ä¿å­˜ç­”æ¡ˆ
            userAnswers[currentTab][currentQuestionIndex] = optionIndex;
            
            // æ›´æ–°é¢œè‰²åˆ†æ•°
            const question = questions[currentTab][currentQuestionIndex];
            const selectedOption = question.options[optionIndex];
            colorPoints[selectedOption.color] += selectedOption.points;
            
            updateNavButtons();
        }

        // æ›´æ–°å¯¼èˆªæŒ‰é’®
        function updateNavButtons() {
            const isCurrentAnswered = userAnswers[currentTab][currentQuestionIndex] !== undefined;
            const currentQuestions = questions[currentTab];
            
            prevBtn.disabled = currentQuestionIndex === 0;
            
            if (currentQuestionIndex >= currentQuestions.length - 1) {
                if (currentTab === 'basic') {
                    const isBasicCompleted = userAnswers.basic.length === questions.basic.length && 
                                        userAnswers.basic.every(answer => answer !== undefined);
                    nextBtn.disabled = !isBasicCompleted;
                    nextBtn.textContent = 'è¿›å…¥è¿›é˜¶ç‰ˆ';
                } else {
                    nextBtn.style.display = 'none';
                    submitBtn.style.display = 'block';
                }
            } else {
                nextBtn.disabled = !isCurrentAnswered;
                nextBtn.textContent = 'ä¸‹ä¸€é¢˜';
                nextBtn.style.display = 'block';
                submitBtn.style.display = 'none';
            }
        }

        // æ›´æ–°è¿›åº¦æ¡
        function updateProgressBar() {
            const currentQuestions = questions[currentTab];
            const progress = ((currentQuestionIndex + 1) / currentQuestions.length) * 100;
            progressBar.style.width = progress + '%';
        }

        // è½¬åˆ°ä¸Šä¸€é¢˜
        function goToPreviousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
                updateProgressBar();
            }
        }

        // è½¬åˆ°ä¸‹ä¸€é¢˜
        function goToNextQuestion() {
            const currentQuestions = questions[currentTab];
            
            if (currentQuestionIndex < currentQuestions.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
                updateProgressBar();
            } else if (currentTab === 'basic') {
                const isBasicCompleted = userAnswers.basic.length === questions.basic.length && 
                                        userAnswers.basic.every(answer => answer !== undefined);
                
                if (isBasicCompleted) {
                    document.querySelector('.tab[data-tab="advanced"]').click();
                }
            }
        }

        // æ˜¾ç¤ºç»“æœ
        function showResults() {
            // æ£€æŸ¥æ˜¯å¦æ‰€æœ‰é¢˜ç›®éƒ½å·²å®Œæˆ
            const isBasicCompleted = userAnswers.basic.length === questions.basic.length && 
                                    userAnswers.basic.every(answer => answer !== undefined);
            const isAdvancedCompleted = userAnswers.advanced.length === questions.advanced.length && 
                                       userAnswers.advanced.every(answer => answer !== undefined);
            
            if (!isBasicCompleted || !isAdvancedCompleted) {
                return;
            }
            
            // è®¡ç®—æ··åˆé¢œè‰²
            const mixedColor = calculateMixedColor();
            
            // ç¡®å®šä¸»å¯¼é¢œè‰²å’Œç”Ÿæˆç»“æœæ–‡æ¡ˆ
            const dominantColor = getDominantColor();
            const totalPoints = colorPoints.red + colorPoints.yellow + colorPoints.blue + colorPoints.white;
            const colorName = getColorName(dominantColor, colorPoints, totalPoints);
            const result = generateResultText(dominantColor, mixedColor);
            const colorAnalysis = generateColorAnalysis();
            const tags = generatePersonalityTags();
            
            // æ˜¾ç¤ºç»“æœ
            questionContainer.style.display = 'none';
            document.querySelector('.nav-buttons').style.display = 'none';
            document.querySelector('.progress-bar').style.display = 'none';
            document.querySelector('.tab-container').style.display = 'none';
            
            // è®¾ç½®é¢œè‰²å±•ç¤º
            resultColor.style.backgroundColor = mixedColor.hex;
            colorCode.textContent = mixedColor.hex.toUpperCase();
            colorNameLuxury.textContent = colorName;
            
            // è®¾ç½®å†…å®¹
            resultText.innerHTML = result;
            colorBreakdown.innerHTML = colorAnalysis;
            personalityTags.innerHTML = tags;
            
            resultContainer.style.display = 'block';
            
            // å»¶è¿Ÿç»˜åˆ¶å››ç»´å›¾ï¼Œç¡®ä¿DOMå…ƒç´ å®Œå…¨æ¸²æŸ“
            setTimeout(() => {
                drawRadarChart();
            }, 100);
        }

        // è®¡ç®—æ··åˆé¢œè‰²
        function calculateMixedColor() {
            const totalPoints = colorPoints.red + colorPoints.yellow + colorPoints.blue + colorPoints.white;
            
            if (totalPoints === 0) {
                return { hex: '#808080', rgb: { r: 128, g: 128, b: 128 } };
            }
            
            // åŠ æƒå¹³å‡è®¡ç®—RGBå€¼
            const r = Math.round(
                (colorPoints.red * colors.red.rgb.r + 
                 colorPoints.yellow * colors.yellow.rgb.r + 
                 colorPoints.blue * colors.blue.rgb.r + 
                 colorPoints.white * colors.white.rgb.r) / totalPoints
            );
            
            const g = Math.round(
                (colorPoints.red * colors.red.rgb.g + 
                 colorPoints.yellow * colors.yellow.rgb.g + 
                 colorPoints.blue * colors.blue.rgb.g + 
                 colorPoints.white * colors.white.rgb.g) / totalPoints
            );
            
            const b = Math.round(
                (colorPoints.red * colors.red.rgb.b + 
                 colorPoints.yellow * colors.yellow.rgb.b + 
                 colorPoints.blue * colors.blue.rgb.b + 
                 colorPoints.white * colors.white.rgb.b) / totalPoints
            );
            
            // å°†RGBè½¬æ¢ä¸ºåå…­è¿›åˆ¶
            const hex = rgbToHex(r, g, b);
            
            return { hex, rgb: { r, g, b } };
        }

        // RGBè½¬åå…­è¿›åˆ¶
        function rgbToHex(r, g, b) {
            return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);
        }

        // ç¡®å®šä¸»å¯¼é¢œè‰²
        function getDominantColor() {
            let maxPoints = 0;
            let dominantColor = 'balanced';
            
            for (const color in colorPoints) {
                if (colorPoints[color] > maxPoints) {
                    maxPoints = colorPoints[color];
                    dominantColor = color;
                }
            }
            
            // å¦‚æœæ‰€æœ‰é¢œè‰²ç‚¹æ•°ç›¸è¿‘ï¼Œè§†ä¸ºå¹³è¡¡
            const points = Object.values(colorPoints);
            const max = Math.max(...points);
            const min = Math.min(...points);
            
            if (max - min < 5) {
                return 'balanced';
            }
            
            return dominantColor;
        }

        // ç”Ÿæˆé¢œè‰²åç§°
        function getColorName(dominantColor, colorPoints, totalPoints) {
            if (totalPoints === 0) return 'æ™¨é›¾å¾®å…‰';
            
            const redPercent = (colorPoints.red / totalPoints) * 100;
            const yellowPercent = (colorPoints.yellow / totalPoints) * 100;
            const bluePercent = (colorPoints.blue / totalPoints) * 100;
            const whitePercent = (colorPoints.white / totalPoints) * 100;
            
            // æ ¹æ®é¢œè‰²ç»„åˆç”Ÿæˆæ›´æœ‰æ„å¢ƒçš„åå­—
            if (dominantColor === 'red') {
                if (yellowPercent > 30) return 'è½æ—¥ä½™æ™–';
                if (bluePercent > 30) return 'ç«ç‘°å¿ƒäº‹';
                if (whitePercent > 30) return 'ç»¯çº¢è½»æ¢¦';
                return 'ç‚½çƒ­æƒ…æ€€';
            }
            
            if (dominantColor === 'yellow') {
                if (redPercent > 30) return 'æš–é˜³æ‹¥æŠ±';
                if (bluePercent > 30) return 'é‡‘è‰²é»æ˜';
                if (whitePercent > 30) return 'æŸ”å…‰è½»èˆ';
                return 'æ˜åªšå¿ƒæ‰‰';
            }
            
            if (dominantColor === 'blue') {
                if (redPercent > 30) return 'æ·±æµ·ç§è¯­';
                if (yellowPercent > 30) return 'æ˜Ÿç©ºé—ªçƒ';
                if (whitePercent > 30) return 'å®é™æµ·éŸµ';
                return 'æ¸…é›…å¿ƒå¢ƒ';
            }
            
            if (dominantColor === 'white') {
                if (redPercent > 30) return 'äº‘éœè½»æŠš';
                if (yellowPercent > 30) return 'æœˆå…‰æ´’è½';
                if (bluePercent > 30) return 'æ™¨éœ²å¾®å…‰';
                return 'çº¯å‡€å¿ƒè¯­';
            }
            
            // å¹³è¡¡çŠ¶æ€
            const hasAllColors = redPercent > 20 && yellowPercent > 20 && bluePercent > 20 && whitePercent > 20;
            if (hasAllColors) return 'å››å­£å’ŒéŸµ';
            
            const hasWarmColors = redPercent > 35 && yellowPercent > 35;
            if (hasWarmColors) return 'æš–é˜³æ—¶å…‰';
            
            const hasCoolColors = bluePercent > 35 && whitePercent > 35;
            if (hasCoolColors) return 'æ¸…æœˆå¦‚éœœ';
            
            return 'å¿ƒä¹‹è‰²å½©';
        }

        // ç”Ÿæˆç»“æœæ–‡æ¡ˆ
        function generateResultText(dominantColor, mixedColor) {
            const totalPoints = colorPoints.red + colorPoints.yellow + colorPoints.blue + colorPoints.white;
            
            // æŒ‰ç™¾åˆ†æ¯”æ’åºé¢œè‰²
            const sortedColors = [
                { key: 'red', name: 'å†²åŠ¨', percent: Math.round((colorPoints.red / totalPoints) * 100) },
                { key: 'yellow', name: 'æ´»è·ƒ', percent: Math.round((colorPoints.yellow / totalPoints) * 100) },
                { key: 'blue', name: 'å†·é™', percent: Math.round((colorPoints.blue / totalPoints) * 100) },
                { key: 'white', name: 'è‡ªå¦‚', percent: Math.round((colorPoints.white / totalPoints) * 100) }
            ].filter(color => color.percent > 0).sort((a, b) => b.percent - a.percent);
            
            let analysisText = '<div class="color-analysis-detailed">';
            

            
            // è¯¦ç»†çš„é¢œè‰²åˆ†æ
            sortedColors.forEach((color, index) => {
                if (color.percent > 0) {
                    analysisText += `<div class="color-analysis-item">
                        <h4>ğŸ¨ ${color.name}ç‰¹è´¨ (${color.percent}%)</h4>
                        <p>`;
                    
                    switch(color.key) {
                        case 'red':
                            if (color.percent >= 40) {
                                analysisText += `ä½ çš„å†…å¿ƒç‡ƒçƒ§ç€${color.percent}%çš„å†²åŠ¨çƒˆç„°ï¼Œè¿™ä¸ä»…æ˜¯è¡ŒåŠ¨åŠ›çš„ä½“ç°ï¼Œæ›´æ˜¯ä¸€ç§ç”Ÿå‘½åŠ›çš„æœ¬èƒ½è¡¨è¾¾ã€‚ä½ å¦‚åŒåˆå‡çš„æœé˜³ï¼Œæ€»æ˜¯ç¬¬ä¸€æ—¶é—´è¿æ¥æŒ‘æˆ˜ï¼Œç”¨æœå†³çš„æ­¥ä¼è¯ é‡Šç€ä»€ä¹ˆå«åš\"æ´»åœ¨å½“ä¸‹\"ã€‚

                                åœ¨å›¢é˜Ÿä¸­ï¼Œä½ å¾€å¾€æ˜¯é‚£ä¸ªç‚¹ç‡ƒæ¿€æƒ…çš„äººï¼Œä½ çš„å­˜åœ¨æœ¬èº«å°±æ˜¯ä¸€ç§é¼“èˆã€‚é¢å¯¹å›°å¢ƒæ—¶ï¼Œä½ ä¸ä¼šè¿‡å¤šçŠ¹è±«ï¼Œè€Œæ˜¯ç›¸ä¿¡"è¡ŒåŠ¨èƒœäºåƒè¨€ä¸‡è¯­"ã€‚è¿™ç§ç‰¹è´¨è®©ä½ åœ¨åˆ›ä¸šã€ç®¡ç†ã€å±æœºå¤„ç†ç­‰é¢†åŸŸå¦‚é±¼å¾—æ°´ã€‚

                                ç„¶è€Œè¿™ä»½ç‚½çƒ­ä¹Ÿéœ€è¦æ™ºæ…§çš„è°ƒå’Œï¼Œå­¦ä¼šåœ¨æ¿€æƒ…ä¸­ä¿æŒæ¸…é†’ï¼Œåœ¨æœæ–­ä¸­ç•™æœ‰ä½™åœ°ï¼Œå°†è®©ä½ çš„å†²åŠ¨ä¹‹åŠ›å‘æŒ¥å¾—æ›´åŠ æ·‹æ¼“å°½è‡´ã€‚`;
                            } else if (color.percent >= 20) {
                                analysisText += `ä½ çš„æ€§æ ¼ä¸­è•´å«${color.percent}%çš„å†²åŠ¨èƒ½é‡ï¼Œè¿™ä»½èƒ½é‡å¦‚åŒæ¸©æ¶¦çš„ç‚­ç«ï¼ŒæŒç»­ä¸ºä½ çš„äººç”Ÿæä¾›åŠ¨åŠ›å’Œæ–¹å‘ã€‚ä½ å¹¶éç›²ç›®çš„å†²åŠ¨ï¼Œè€Œæ˜¯åœ¨å…³é”®æ—¶åˆ»èƒ½å¤ŸæŒºèº«è€Œå‡ºï¼Œæ‰¿æ‹…èµ·å±äºè‡ªå·±çš„è´£ä»»ã€‚

                                è¿™ç§é€‚åº¦çš„å†²åŠ¨è®©ä½ åœ¨äººé™…å…³ç³»ä¸­æ˜¾å¾—çœŸè¯šå¯é ï¼Œåœ¨èŒåœºä¸­è¡¨ç°å‡ºç§¯æä¸»åŠ¨çš„æ€åº¦ã€‚ä½ æ‡‚å¾—ä½•æ—¶è¯¥å‰è¿›ï¼Œä½•æ—¶è¯¥ç­‰å¾…ï¼Œè¿™ç§èŠ‚å¥æ„Ÿæ­£æ˜¯ä½ æ™ºæ…§çš„è¡¨ç°ã€‚

                                ä½ çš„å†²åŠ¨è¿˜ä½“ç°åœ¨å¯¹ç†æƒ³çš„åšæŒä¸Šï¼Œä¸€æ—¦è®¤å®šäº†æŸä¸ªç›®æ ‡ï¼Œä½ ä¼šç¨³æ­¥è€Œåšå®šåœ°æœç€å®ƒå‰è¿›ï¼Œä¸è½»è¨€æ”¾å¼ƒã€‚`;
                            } else {
                                analysisText += `ä½ æ‹¥æœ‰${color.percent}%çš„å†²åŠ¨ç‰¹è´¨ï¼Œè¿™å¦‚åŒå¿ƒç¯ä¸­çš„ä¸€è±†ç«è‹—ï¼Œè™½ä¸ç‚½çƒˆå´è¶³å¤Ÿç…§äº®å‰è·¯ã€‚åœ¨å¤§å¤šæ•°æ—¶å€™ï¼Œä½ åå‘äºç¨³é‡å’Œæ€è€ƒï¼Œä½†å½“å†…å¿ƒçœŸæ­£æ¸´æœ›æŸæ ·ä¸œè¥¿æ—¶ï¼Œè¿™ä»½å†²åŠ¨å°±ä¼šæ‚„ç„¶æ˜¾ç°ã€‚

                                è¿™ä»½ç‰¹è´¨è®©ä½ åœ¨å…³é”®æ—¶åˆ»èƒ½å¤Ÿçªç ´èˆ’é€‚åŒºï¼Œå°è¯•æ–°çš„å¯èƒ½æ€§ã€‚å®ƒå¯èƒ½ä½“ç°åœ¨ä½ å¯¹æŸä¸ªçˆ±å¥½çš„æ‰§ç€ï¼Œå¯¹æœ‹å‹çš„çƒ­å¿ƒç›¸åŠ©ï¼Œæˆ–æ˜¯å¯¹æ­£ä¹‰äº‹ä¸šçš„é»˜é»˜æ”¯æŒã€‚

                                çæƒœè¿™ä»½å†…å¿ƒçš„å†²åŠ¨ï¼Œå®ƒæ˜¯ä½ ç”Ÿå‘½ä¸­æœ€çœŸå®çš„è‰²å½©ä¹‹ä¸€ï¼Œè®©ä½ åœ¨å¹³å‡¡çš„æ—¥å­é‡Œä¹Ÿèƒ½æ‰¾åˆ°å±äºè‡ªå·±çš„ç²¾å½©ã€‚`;
                            }
                            break;
                        case 'yellow':
                            if (color.percent >= 40) {
                                analysisText += `ä½ æ‹¥æœ‰${color.percent}%çš„æ´»è·ƒå…‰èŠ’ï¼Œè¿™å‡ ä¹æ˜¯ç§å¤©èµ‹â€”â€”å°†å¹³å‡¡æ—¥å¸¸ç‚¹åŒ–ä¸ºè¯—æ„çš„é­”æ³•ã€‚ä½ çš„æ€ç»´å¦‚åŒè·³è·ƒçš„é˜³å…‰ï¼Œæ€»èƒ½åœ¨åˆ«äººçœ‹ä¸åˆ°çš„åœ°æ–¹å‘ç°ç¾å¥½å’Œå¯èƒ½ã€‚

                                åœ¨åˆ›æ„é¢†åŸŸï¼Œä½ å¦‚é±¼å¾—æ°´ã€‚æ— è®ºæ˜¯è‰ºæœ¯åˆ›ä½œã€ç­–åˆ’æ´»åŠ¨è¿˜æ˜¯è§£å†³å¤æ‚é—®é¢˜ï¼Œä½ éƒ½èƒ½è·³å‡ºå›ºæœ‰æ¡†æ¶ï¼Œå¸¦æ¥ä»¤äººæƒŠå–œçš„è§†è§’ã€‚ä½ çš„å­˜åœ¨æœ¬èº«å°±æ˜¯å¯¹"å¢¨å®ˆæˆè§„"æœ€å¥½çš„åé©³ã€‚

                                ç¤¾äº¤ä¸­ï¼Œä½ æ˜¯é‚£ç§èƒ½å¤Ÿç¬é—´ç‚¹ç‡ƒæ°”æ°›çš„äººï¼Œä¸æ˜¯é€šè¿‡åˆ»æ„çš„è¡¨ç°ï¼Œè€Œæ˜¯å‘è‡ªå†…å¿ƒçš„å¯¹ç”Ÿæ´»çš„å¥½å¥‡å’Œçƒ­æƒ…ã€‚æœ‹å‹ä»¬åœ¨ä½ èº«è¾¹æ€»èƒ½æ„Ÿå—åˆ°è½»æ¾å’Œæ„‰æ‚¦ï¼Œå› ä¸ºä½ çš„ä¹è§‚æ˜¯çœŸå®å¯æ„Ÿçš„ã€‚`;
                            } else if (color.percent >= 20) {
                                analysisText += `ä½ çš„æ€§æ ¼ä¸­é—ªè€€ç€${color.percent}%çš„æ´»è·ƒå…‰è¾‰ï¼Œè¿™ä»½ç‰¹è´¨è®©ä½ åœ¨é€‚åº”å˜åŒ–æ—¶æ˜¾å¾—æ ¼å¤–ä»å®¹ã€‚ä½ ä¸æ˜¯é‚£ç§å›ºå®ˆè®¡åˆ’çš„äººï¼Œè€Œæ˜¯äº«å—è¿‡ç¨‹ä¸­çš„å„ç§æ„å¤–å’ŒæƒŠå–œã€‚

                                åœ¨å·¥ä½œä¸­ï¼Œä½ çš„æ´»è·ƒæ€åº¦ç»å¸¸èƒ½å¸®åŠ©å›¢é˜Ÿæ‰¾åˆ°çªç ´å£ã€‚å½“å¤§å®¶é™·å…¥åƒµå±€æ—¶ï¼Œä½ çš„ä¸€ä¸ªä¸ç»æ„çš„å»ºè®®å¾€å¾€èƒ½æ‰“å¼€æ–°çš„æ€è·¯ã€‚è¿™ç§èƒ½åŠ›åœ¨å¿«é€Ÿå˜åŒ–çš„å½“ä»Šæ—¶ä»£å°¤ä¸ºçè´µã€‚

                                ç”Ÿæ´»ä¸­ï¼Œä½ æ‡‚å¾—å¦‚ä½•ä¸ºè‡ªå·±åˆ›é€ å¿«ä¹ã€‚å“ªæ€•æ˜¯ä¸€æ¯å’–å•¡çš„é¦™é†‡ï¼Œä¸€é¦–è€æ­Œçš„æ—‹å¾‹ï¼Œæˆ–æ˜¯ä¸€ä¸ªé™Œç”Ÿäººçš„å¾®ç¬‘ï¼Œéƒ½èƒ½æˆä¸ºä½ å¿ƒæƒ…æ„‰æ‚¦çš„æºæ³‰ã€‚è¿™ç§èƒ½åŠ›è®©ä½ åœ¨å‹åŠ›é¢å‰ä¾ç„¶ä¿æŒå¼¹æ€§ã€‚`;
                            } else {
                                analysisText += `ä½ å…·å¤‡${color.percent}%çš„æ´»è·ƒç‰¹è´¨ï¼Œå®ƒå¦‚åŒå¿ƒçµæ·±å¤„çš„ä¸€ç¼•é˜³å…‰ï¼Œåœ¨é˜´éœ¾æ—¥å­é‡Œä¸ºä½ æŒ‡å¼•æ–¹å‘ã€‚è™½ç„¶å¹³æ—¶ä½ å¯èƒ½æ›´å€¾å‘äºå†…æ•›å’Œç†æ€§ï¼Œä½†å½“é‡åˆ°çœŸæ­£æœ‰è¶£çš„äº‹ç‰©æ—¶ï¼Œè¿™ä»½æ´»è·ƒå°±ä¼šè‹é†’ã€‚

                                è¿™ä»½ç‰¹è´¨å¯èƒ½ä½“ç°åœ¨ä½ å¯¹ç¾çš„æ•æ„Ÿåº¦ä¸Šâ€”â€”ä½ ä¼šæ³¨æ„åˆ°åˆ«äººå¿½ç•¥çš„ç»†èŠ‚ï¼Œæ„Ÿå—åˆ°è‰ºæœ¯ä½œå“ä¸­çš„æƒ…æ„Ÿï¼Œæˆ–æ˜¯åœ¨è‡ªç„¶ä¸­å‘ç°ä»¤äººæƒŠå¹çš„å’Œè°ã€‚

                                åœ¨äººé™…äº¤å¾€ä¸­ï¼Œä½ çš„æ´»è·ƒæ€åº¦å¶å°”ä¼šè®©ä½ è¯´å‡ºæˆ–åšå‡ºä¸€äº›å‡ºäººæ„æ–™çš„äº‹æƒ…ï¼Œè¿™äº›ç¬é—´å¾€å¾€æˆä¸ºåˆ«äººè®°ä½ä½ çš„åŸå› ã€‚å®ƒä»¬å±•ç¤ºäº†ä½ æ€§æ ¼ä¸­é²œä¸ºäººçŸ¥å´æ ¼å¤–è¿·äººçš„ä¸€é¢ã€‚`;
                            }
                            break;
                        case 'blue':
                            if (color.percent >= 40) {
                                analysisText += `ä½ çš„æ€§æ ¼ä¸­è•´å«${color.percent}%çš„å†·é™æ·±åº¦ï¼Œè¿™ç§ç‰¹è´¨åœ¨æµ®èºçš„ç°ä»£ç¤¾ä¼šæ˜¾å¾—å°¤ä¸ºçè´µã€‚ä½ å¦‚åŒæ·±æµ·çš„çç ï¼Œåœ¨å¯‚é™ä¸­æ²‰æ·€ï¼Œåœ¨æ€è€ƒä¸­å‘å…‰ã€‚

                                ä½ æ‹¥æœ‰è¶…å¼ºçš„åˆ†æèƒ½åŠ›å’Œé€»è¾‘æ€ç»´ï¼Œé¢å¯¹å¤æ‚é—®é¢˜æ—¶ï¼Œä½ ä¼šå…ˆé€€ä¸€æ­¥ï¼Œå®¡è§†å…¨å±€ï¼Œç„¶åé€æ­¥æ‹†è§£ï¼Œç›´åˆ°æ‰¾åˆ°é—®é¢˜çš„æ ¸å¿ƒã€‚è¿™ç§æ€ç»´æ–¹å¼è®©ä½ åœ¨å­¦æœ¯ç ”ç©¶ã€æŠ€æœ¯å·¥ä½œã€æŠ•èµ„å†³ç­–ç­‰é¢†åŸŸå…·æœ‰å¤©ç„¶ä¼˜åŠ¿ã€‚

                                åœ¨æƒ…æ„Ÿè¡¨è¾¾ä¸Šï¼Œä½ åå‘äºå†…æ•›å’Œæ·±æ²‰ã€‚ä½ ä¸æ˜¯é‚£ç§è½»æ˜“è¡¨éœ²å†…å¿ƒçš„äººï¼Œä½†ä¸€æ—¦çœŸæ­£ä¿¡ä»»æŸäººï¼Œä½ çš„æƒ…æ„Ÿä¼šå¦‚æ·±æµ·èˆ¬æ·±é‚ƒæŒä¹…ã€‚ä½ çš„æœ‹å‹éƒ½æ˜ç™½ï¼Œä½ çš„è¯è¯­ä¸å¤šï¼Œä½†æ¯ä¸€å¥éƒ½ç»è¿‡æ·±æ€ç†Ÿè™‘ã€‚`;
                            } else if (color.percent >= 20) {
                                analysisText += `ä½ çš„æ€§æ ¼ä¸­æµæ·Œç€${color.percent}%çš„å†·é™æ™ºæ…§ï¼Œè¿™ä»½ç†æ€§è®©ä½ åœ¨å†³ç­–æ—¶èƒ½å¤Ÿä¿æŒç›¸å¯¹å®¢è§‚ã€‚ä½ ä¸ä¼šè¢«æƒ…ç»ªè½»æ˜“å·¦å³ï¼Œè€Œæ˜¯ä¹ æƒ¯äºæƒè¡¡åˆ©å¼Šï¼Œè€ƒè™‘é•¿è¿œã€‚

                                åœ¨å›¢é˜Ÿåˆä½œä¸­ï¼Œä½ ç»å¸¸æ‰®æ¼”ç€"ç†æ€§å£°éŸ³"çš„è§’è‰²ã€‚å½“å¤§å®¶è¿‡äºæƒ…ç»ªåŒ–æˆ–å†²åŠ¨æ—¶ï¼Œä½ çš„å†·é™åˆ†æå¾€å¾€èƒ½å¸®åŠ©å›¢é˜Ÿå›å½’æ­£è½¨ã€‚è¿™ç§å¹³è¡¡èƒ½åŠ›è®©ä½ æˆä¸ºä¸å¯æˆ–ç¼ºçš„ç¨³å®šå™¨ã€‚

                                ç”Ÿæ´»ä¸­ï¼Œä½ çš„å†·é™ç‰¹è´¨è¿˜ä½“ç°åœ¨å¯¹çŸ¥è¯†çš„å¥½å¥‡å’Œå¯¹çœŸç†çš„è¿½æ±‚ä¸Šã€‚ä½ å–œæ¬¢å¼„æ¸…æ¥šäº‹ç‰©çš„æœ¬è´¨ï¼Œä¸è¢«è¡¨é¢ç°è±¡è¿·æƒ‘ã€‚è¿™ç§æ€åº¦è®©ä½ çš„ä¸–ç•Œè§‚è¶Šæ¥è¶Šæ¸…æ™°ï¼Œä¹Ÿè®©ä½ çš„å†…å¿ƒè¶Šæ¥è¶Šå®‰å®šã€‚`;
                            } else {
                                analysisText += `ä½ æ‹¥æœ‰${color.percent}%çš„å†·é™ç‰¹è´¨ï¼Œå®ƒå¦‚åŒå¤œç©ºä¸­çš„åŒ—ææ˜Ÿï¼Œåœ¨è¿·èŒ«æ—¶ä¸ºä½ æŒ‡å¼•æ–¹å‘ã€‚è™½ç„¶ä½ å¯èƒ½æ›´å¤šæ—¶å€™ä¾èµ–ç›´è§‰æˆ–æƒ…æ„Ÿï¼Œä½†ç†æ€§çš„ç§å­å§‹ç»ˆåœ¨å¿ƒä¸­ã€‚

                                è¿™ä»½å†·é™å¯èƒ½ä½“ç°åœ¨ä½ å¯¹æŸäº›ç‰¹å®šé¢†åŸŸçš„æ·±å…¥é’»ç ”ä¸Šï¼Œæˆ–è€…åœ¨é¢å¯¹é‡å¤§äººç”Ÿé€‰æ‹©æ—¶çš„æ·±æ€ç†Ÿè™‘ã€‚å®ƒè®©ä½ åœ¨å…³é”®æ—¶åˆ»èƒ½å¤Ÿä¿æŒç›¸å¯¹çš„æ¸…é†’å’Œåˆ¤æ–­åŠ›ã€‚

                                åœ¨äººé™…äº¤å¾€ä¸­ï¼Œä½ çš„å†·é™ç‰¹è´¨è®©ä½ å€¾å‘äºå»ºç«‹æ·±åº¦è€Œéæ³›æ³›ä¹‹äº¤ã€‚ä½ æ›´æ„¿æ„ä¸å°‘æ•°çœŸæ­£ç†è§£ä½ çš„äººå»ºç«‹é•¿ä¹…çš„å…³ç³»ï¼Œè¿™ç§è´¨é‡è€Œéæ•°é‡çš„é€‰æ‹©ï¼Œä½“ç°äº†ä½ å¯¹å…³ç³»çš„çè§†ã€‚`;
                            }
                            break;
                        case 'white':
                            if (color.percent >= 40) {
                                analysisText += `ä½ çš„æ€§æ ¼ä¸­é—ªè€€ç€${color.percent}%çš„è‡ªå¦‚å…‰è¾‰ï¼Œè¿™ç§å¢ƒç•Œåœ¨å½“ä»Šå¿«èŠ‚å¥çš„ä¸–ç•Œé‡Œå¦‚åŒç¨€æœ‰çš„çç ã€‚ä½ ä¼¼ä¹å¤©ç”Ÿå°±æ‡‚å¾—å¦‚ä½•ä¸ç”Ÿæ´»å’Œè°ç›¸å¤„ï¼Œå¦‚ä½•åœ¨å˜å¹»ä¸­ä¿æŒå†…å¿ƒçš„å®é™ã€‚

                                ä½ çš„é€‚åº”åŠ›æå¼ºï¼Œè¿™å¹¶éå‡ºäºå¦¥åï¼Œè€Œæ˜¯æºäºæ·±åˆ»çš„æ™ºæ…§å’ŒåŒ…å®¹ã€‚ä½ æ˜ç™½æ¯ä¸ªç”Ÿå‘½éƒ½æœ‰å…¶ç‹¬ç‰¹çš„è½¨è¿¹ï¼Œæ¯ç§é€‰æ‹©éƒ½æœ‰å…¶å­˜åœ¨çš„ç†ç”±ã€‚è¿™ç§ç†è§£è®©ä½ èƒ½å¤Ÿæ¥çº³ä¸åŒçš„è§‚ç‚¹ï¼ŒåŒ…å®¹ä»–äººçš„å·®å¼‚ã€‚

                                åœ¨å‹åŠ›é¢å‰ï¼Œä½ å±•ç°å‡ºæƒŠäººçš„éŸ§æ€§ã€‚ä¸æ˜¯å› ä¸ºä½ æ²¡æœ‰æƒ…ç»ªï¼Œè€Œæ˜¯ä½ æ‡‚å¾—å¦‚ä½•ä¸æƒ…ç»ªå…±å¤„ï¼Œå¦‚ä½•åœ¨é£æš´ä¸­æ‰¾åˆ°å†…å¿ƒçš„é”šç‚¹ã€‚è¿™ç§èƒ½åŠ›è®©ä½ åœ¨é€†å¢ƒä¸­ä¾ç„¶èƒ½å¤Ÿä¿æŒä¼˜é›…å’Œä»å®¹ã€‚`;
                            } else if (color.percent >= 20) {
                                analysisText += `ä½ çš„æ€§æ ¼ä¸­åŒ…å«${color.percent}%çš„è‡ªå¦‚ç‰¹è´¨ï¼Œè¿™ä»½å¹³å’Œè®©ä½ åœ¨äººé™…äº¤å¾€ä¸­æ˜¾å¾—æ ¼å¤–æ¸©å’Œå¯é ã€‚æœ‹å‹ä»¬åœ¨ä½ èº«è¾¹æ€»èƒ½æ„Ÿå—åˆ°ä¸€ç§å®‰é™çš„åŠ›é‡ï¼Œå¦‚åŒæ˜¥æ—¥é‡Œè½»æŸ”çš„å¾®é£ã€‚

                                ä½ å¤©ç”Ÿå–„äºå€¾å¬ï¼Œä¸æ˜¯å‡ºäºæŠ€å·§ï¼Œè€Œæ˜¯å‘è‡ªå†…å¿ƒçš„å¯¹ä»–äººçš„å¥½å¥‡å’Œå°Šé‡ã€‚è¿™ç§ç‰¹è´¨è®©ä½ æˆä¸ºå¾ˆå¤šäººå¿ƒä¸­çš„çŸ¥å·±ï¼Œå› ä¸ºä½ ä¸ä¼šè½»æ˜“è¯„åˆ¤ï¼Œè€Œæ˜¯åŠªåŠ›ç†è§£æ¯ä¸ªäººçš„ç‹¬ç‰¹æ€§ã€‚

                                åœ¨é¢å¯¹å†²çªæ—¶ï¼Œä½ å¾€å¾€èƒ½å¤Ÿä¿æŒç›¸å¯¹å®¢è§‚ï¼Œå¯»æ‰¾åŒèµ¢çš„è§£å†³æ–¹æ¡ˆã€‚ä½ ç›¸ä¿¡ï¼Œå¤§å¤šæ•°åˆ†æ­§éƒ½æºäºè¯¯è§£æˆ–ç«‹åœºä¸åŒï¼Œé€šè¿‡æ²Ÿé€šå’Œç†è§£ï¼Œæ€»èƒ½æ‰¾åˆ°å…±åŒç‚¹ã€‚è¿™ç§æ€åº¦è®©ä½ åœ¨å›¢é˜Ÿåˆä½œä¸­å‘æŒ¥é‡è¦çš„ä½œç”¨ã€‚`;
                            } else {
                                analysisText += `ä½ å…·å¤‡${color.percent}%çš„è‡ªå¦‚ç‰¹è´¨ï¼Œå®ƒå¦‚åŒå†…å¿ƒæ·±å¤„çš„ä¸€æ±ªæ¸…æ³‰ï¼Œåœ¨ä½ æ„Ÿåˆ°ç–²æƒ«æˆ–å›°æƒ‘æ—¶ç»™äºˆæ…°è—‰ã€‚è™½ç„¶ä½ å¯èƒ½ä¹Ÿä¼šç»å†æƒ…ç»ªçš„èµ·ä¼ï¼Œä½†å†…å¿ƒæ·±å¤„å§‹ç»ˆæœ‰ä¸€ä¸ªå®é™çš„è§’è½ã€‚

                                è¿™ä»½è‡ªå¦‚å¯èƒ½ä½“ç°åœ¨ä½ å¯¹ç®€å•ç”Ÿæ´»çš„æ¬£èµä¸Šâ€”â€”ä¸€æœ¬ä¹¦ã€ä¸€æ¯èŒ¶ã€ä¸€æ®µå®‰é™çš„æ—¶å…‰ï¼Œéƒ½èƒ½è®©ä½ æ„Ÿåˆ°æ»¡è¶³ã€‚è¿™ç§èƒ½åŠ›è®©ä½ åœ¨ç‰©è´¨ä¸°å¯Œçš„ç°ä»£ç¤¾ä¼šä¸­ä¾ç„¶èƒ½å¤Ÿä¿æŒå†…å¿ƒçš„ä¸°ç›ˆã€‚

                                åœ¨äººé™…å…³ç³»ä¸­ï¼Œä½ çš„è‡ªå¦‚ç‰¹è´¨è®©ä½ å€¾å‘äºå»ºç«‹å’Œè°è€Œéç«äº‰çš„å…³ç³»ã€‚ä½ ç›¸ä¿¡æ¯ä¸ªäººéƒ½æœ‰å…¶ä»·å€¼ï¼Œéƒ½å€¼å¾—è¢«å°Šé‡å’Œç†è§£ã€‚è¿™ç§æ€åº¦ä¸ºä½ èµ¢å¾—äº†çœŸè¯šçš„å‹è°Šå’Œæ·±åšçš„ä¿¡ä»»ã€‚`;
                            }
                            break;
                    }
                    
                    analysisText += `</p></div>`;
                }
            });
            

            
            analysisText += '</div>';
            return analysisText;
        }

        // ç”Ÿæˆæƒ…ç»ªè‰²å½©åˆ†æ
        function generateColorAnalysis() {
            const totalPoints = colorPoints.red + colorPoints.yellow + colorPoints.blue + colorPoints.white;
            const colors = [
                { name: 'å†²åŠ¨', key: 'red', percent: Math.round((colorPoints.red / totalPoints) * 100), color: '#A53B30' },
                { name: 'æ´»è·ƒ', key: 'yellow', percent: Math.round((colorPoints.yellow / totalPoints) * 100), color: '#FFC44F' },
                { name: 'å†·é™', key: 'blue', percent: Math.round((colorPoints.blue / totalPoints) * 100), color: '#2B82E0' },
                { name: 'è‡ªå¦‚', key: 'white', percent: Math.round((colorPoints.white / totalPoints) * 100), color: '#F3F7E8' }
            ].sort((a, b) => b.percent - a.percent);
            
            let colorBreakdown = '';
            colors.forEach(color => {
                if (color.percent > 0) {
                    colorBreakdown += `
                        <div class="color-item">
                            <div class="color-sample" style="background: ${color.color}"></div>
                            <div class="color-info">
                                <div class="color-name">${color.name}</div>
                                <div class="color-percent">${color.percent}%</div>
                            </div>
                        </div>
                    `;
                }
            });
            
            return colorBreakdown;
        }

        // ç”Ÿæˆä¸ªæ€§æ ‡ç­¾
        function generatePersonalityTags() {
            const totalPoints = colorPoints.red + colorPoints.yellow + colorPoints.blue + colorPoints.white;
            const tags = [];
            
            // æ ¹æ®é¢œè‰²åˆ†å¸ƒç”Ÿæˆä¸ªæ€§æ ‡ç­¾
            if (colorPoints.red / totalPoints > 0.4) {
                tags.push('ğŸ”¥ è¡ŒåŠ¨æ´¾', 'âš¡ å†³æ–­åŠ›å¼º', 'ğŸ¯ ç›®æ ‡å¯¼å‘', 'ğŸš€ å‹‡äºæŒ‘æˆ˜', 
                       'ğŸ† æˆå°±åŠ¨æœº', 'âš¡ æœæ–­å†³æ–­', 'ğŸª å¤©ç”Ÿé¢†è¢–', 'ğŸ”¥ çƒ­æƒ…å¥”æ”¾');
            }
            if (colorPoints.yellow / totalPoints > 0.4) {
                tags.push('âœ¨ ä¹è§‚ä¸»ä¹‰è€…', 'ğŸŒŸ åˆ›æ„æ— é™', 'ğŸ˜„ ç¤¾äº¤è¾¾äºº', 'ğŸ¨ è‰ºæœ¯å¤©èµ‹',
                       'ğŸŒˆ å¤šå…ƒæ€ç»´', 'ğŸ’¡ çµæ„Ÿä¸°å¯Œ', 'ğŸ­ è¡¨ç°åŠ›å¼º', 'ğŸŒ» æ™ºæ…§ä¹è§‚');
            }
            if (colorPoints.blue / totalPoints > 0.4) {
                tags.push('ğŸ§  ç†æ€§æ€è€ƒ', 'ğŸ“Š åˆ†æèƒ½åŠ›å¼º', 'ğŸª å¯é ä¼™ä¼´', 'ğŸ” æ´å¯ŸåŠ›å¼º',
                       'ğŸ“š æ±‚çŸ¥æ¬²å¼º', 'ğŸ¯ é€»è¾‘æ¸…æ™°', 'ğŸŒŠ æ·±åº¦æ€è€ƒ', 'ğŸ’ å“è´¨å“è¶Š');
            }
            if (colorPoints.white / totalPoints > 0.4) {
                tags.push('ğŸ•Šï¸ å†…å¿ƒå¹³å’Œ', 'ğŸ’­ æ·±åº¦æ€è€ƒ', 'ğŸŒ¸ é€‚åº”åŠ›å¼º', 'ğŸŒ¿ åŒ…å®¹å¿ƒå¼º',
                       'ğŸ§˜ å®é™è‡´è¿œ', 'ğŸŒ™ æ¸©æ¶¦å¦‚ç‰', 'ğŸƒ è‡ªç„¶éšæ€§', 'âš–ï¸ å…¬æ­£å®¢è§‚');
            }
            
            // å¹³è¡¡å‹æ ‡ç­¾
            const maxPercent = Math.max(colorPoints.red, colorPoints.yellow, colorPoints.blue, colorPoints.white) / totalPoints;
            if (maxPercent < 0.35) {
                tags.push('ğŸŒˆ æƒ…ç»ªå¤§å¸ˆ', 'ğŸ­ çµæ´»å¤šå˜', 'ğŸ§˜ é€‚åº”åŠ›å¼º', 'âš–ï¸ å¹³è¡¡è¾¾äºº',
                       'ğŸª å…¨èƒ½å‘å±•', 'ğŸŒŸ å’Œè°ç»Ÿä¸€', 'ğŸ§˜â€â™€ï¸ å†…åœ¨å’Œè°', 'ğŸ¨ å¤šé¢æ‰å');
            }
            
            // ç‹¬ç‰¹ç»„åˆæ ‡ç­¾
            if (colorPoints.red > 0 && colorPoints.blue > 0) {
                tags.push('âš”ï¸ åˆšæŸ”å¹¶æµ', 'ğŸ”¥ğŸ’ æ¿€æƒ…ç†æ€§', 'âš¡ğŸŒŠ åŠ¨é™ç»“åˆ');
            }
            if (colorPoints.yellow > 0 && colorPoints.white > 0) {
                tags.push('ğŸŒ» æ™ºæ…§ä¹è§‚', 'âœ¨ğŸŒ™ æ˜æ™ºå¹³å’Œ', 'ğŸŒŸğŸ•Šï¸ ä¹è§‚ä»å®¹');
            }
            if (colorPoints.red > 0 && colorPoints.yellow > 0) {
                tags.push('ğŸ”¥ğŸŒŸ çƒ­æƒ…åˆ›æ–°', 'ğŸš€ğŸ’¡ è¡ŒåŠ¨åˆ›æ„', 'ğŸŒ…ğŸ¨ æ™¨å…‰è‰ºæœ¯');
            }
            if (colorPoints.blue > 0 && colorPoints.white > 0) {
                tags.push('ğŸ’ğŸŒ™ æ™ºæ…§å®é™', 'ğŸŒŠğŸƒ æ¸…æ¾ˆè‡ªç„¶', 'ğŸ§­ğŸ•Šï¸ ç†æ€§å¹³å’Œ');
            }
            
            // ç¡®ä¿æ ‡ç­¾æ•°é‡åˆé€‚ï¼ˆ8-12ä¸ªï¼‰
            const finalTags = tags.slice(0, Math.floor(Math.random() * 5) + 8);
            
            return finalTags.map(tag => `<div class="tag">${tag}</div>`).join('');
        }

        // ç»˜åˆ¶å››ç»´é›·è¾¾å›¾
        function drawRadarChart() {
            const canvas = document.getElementById('radarChart');
            if (!canvas) {
                console.log('Canvas element not found');
                return;
            }
            
            // è®¾ç½®å›ºå®šå°ºå¯¸ä»¥ç¡®ä¿æ­£å¸¸æ˜¾ç¤º
            canvas.width = 400;
            canvas.height = 400;
            canvas.style.width = '400px';
            canvas.style.height = '400px';
            
            const ctx = canvas.getContext('2d');
            const centerX = 200;
            const centerY = 200;
            const radius = 120;
            
            // è®¡ç®—å››ä¸ªç»´åº¦çš„å€¼
            const totalPoints = colorPoints.red + colorPoints.yellow + colorPoints.blue + colorPoints.white;
            let maxValue = Math.max(colorPoints.red, colorPoints.yellow, colorPoints.blue, colorPoints.white);
            if (maxValue === 0) maxValue = 1; // é¿å…é™¤é›¶é”™è¯¯
            
            const data = [
                { 
                    value: colorPoints.red, 
                    label: 'å†²åŠ¨', 
                    color: colors.red.hex,
                    percentage: totalPoints > 0 ? Math.round((colorPoints.red / totalPoints) * 100) : 0
                },
                { 
                    value: colorPoints.yellow, 
                    label: 'æ´»è·ƒ', 
                    color: colors.yellow.hex,
                    percentage: totalPoints > 0 ? Math.round((colorPoints.yellow / totalPoints) * 100) : 0
                },
                { 
                    value: colorPoints.blue, 
                    label: 'å†·é™', 
                    color: colors.blue.hex,
                    percentage: totalPoints > 0 ? Math.round((colorPoints.blue / totalPoints) * 100) : 0
                },
                { 
                    value: colorPoints.white, 
                    label: 'è‡ªå¦‚', 
                    color: colors.white.hex,
                    percentage: totalPoints > 0 ? Math.round((colorPoints.white / totalPoints) * 100) : 0
                }
            ];
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // ç»˜åˆ¶èƒŒæ™¯åœ†ç¯
            for (let i = 1; i <= 5; i++) {
                ctx.beginPath();
                ctx.strokeStyle = 'rgba(0, 0, 0, 0.1)';
                ctx.lineWidth = 1;
                
                for (let j = 0; j < 4; j++) {
                    const angle = (Math.PI * 2 * j) / 4 - Math.PI / 2;
                    const x = centerX + Math.cos(angle) * (radius * i / 5);
                    const y = centerY + Math.sin(angle) * (radius * i / 5);
                    
                    if (j === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                }
                ctx.closePath();
                ctx.stroke();
            }
            
            // ç»˜åˆ¶è½´çº¿
            data.forEach((item, index) => {
                const angle = (Math.PI * 2 * index) / 4 - Math.PI / 2;
                const x = centerX + Math.cos(angle) * radius;
                const y = centerY + Math.sin(angle) * radius;
                
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.lineTo(x, y);
                ctx.strokeStyle = 'rgba(0, 0, 0, 0.2)';
                ctx.lineWidth = 2;
                ctx.stroke();
            });
            
            // ç»˜åˆ¶æ•°æ®åŒºåŸŸ
            ctx.beginPath();
            data.forEach((item, index) => {
                const angle = (Math.PI * 2 * index) / 4 - Math.PI / 2;
                const distance = (item.value / maxValue) * radius;
                const x = centerX + Math.cos(angle) * distance;
                const y = centerY + Math.sin(angle) * distance;
                
                if (index === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            });
            ctx.closePath();
            ctx.fillStyle = 'rgba(43, 130, 224, 0.2)';
            ctx.fill();
            ctx.strokeStyle = colors.blue.hex;
            ctx.lineWidth = 2;
            ctx.stroke();
            
            // ç»˜åˆ¶æ•°æ®ç‚¹
            data.forEach((item, index) => {
                const angle = (Math.PI * 2 * index) / 4 - Math.PI / 2;
                const distance = (item.value / maxValue) * radius;
                const x = centerX + Math.cos(angle) * distance;
                const y = centerY + Math.sin(angle) * distance;
                
                // å¤–åœ†
                ctx.beginPath();
                ctx.arc(x, y, 8, 0, Math.PI * 2);
                ctx.fillStyle = item.color;
                ctx.fill();
                ctx.strokeStyle = 'white';
                ctx.lineWidth = 2;
                ctx.stroke();
                
                // å†…åœ†
                ctx.beginPath();
                ctx.arc(x, y, 3, 0, Math.PI * 2);
                ctx.fillStyle = 'white';
                ctx.fill();
            });
            
            // ç»˜åˆ¶æ ‡ç­¾
            ctx.font = 'bold 14px "Noto Sans SC"';
            ctx.fillStyle = '#2d3748';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            
            data.forEach((item, index) => {
                const angle = (Math.PI * 2 * index) / 4 - Math.PI / 2;
                const labelDistance = radius + 30;
                const x = centerX + Math.cos(angle) * labelDistance;
                const y = centerY + Math.sin(angle) * labelDistance;
                
                // è°ƒæ•´æ–‡æœ¬å¯¹é½æ–¹å¼
                if (x < centerX - 10) {
                    ctx.textAlign = 'right';
                } else if (x > centerX + 10) {
                    ctx.textAlign = 'left';
                } else {
                    ctx.textAlign = 'center';
                }
                
                // è°ƒæ•´å‚ç›´å¯¹é½
                if (y < centerY - 10) {
                    ctx.textBaseline = 'bottom';
                } else if (y > centerY + 10) {
                    ctx.textBaseline = 'top';
                } else {
                    ctx.textBaseline = 'middle';
                }
                
                ctx.fillText(`${item.label}`, x, y);
                ctx.font = '12px "Noto Sans SC"';
                ctx.fillStyle = '#718096';
                ctx.fillText(`${item.percentage}%`, x, y + 16);
                ctx.font = 'bold 14px "Noto Sans SC"';
                ctx.fillStyle = '#2d3748';
            });
        }



        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–æµ‹è¯•
        document.addEventListener('DOMContentLoaded', initTest);
    </script>
</body>
</html>